# validation-image
> Image factory that generate validation pictures&codes.

## Sample
The generated validation image looks like this:
![alt tag](https://raw.githubusercontent.com/chenjuneking/validation-image/master/validation-image-sample.png)

## Usage

First, install `validation-image`.

```shell
npm install validation-image
```

`validation-image` depend on `node-canvas`, install `node-canvas` you'll _need_ __Cairo__. For system-specific installation view the [Wiki](https://github.com/Automattic/node-canvas/wiki/_pages).

You can quickly install the dependencies by using the command for your OS:

OS | Command
----- | -----
OS X | `brew install pkg-config cairo libpng jpeg giflib`
Ubuntu | `sudo apt-get install libcairo2-dev libjpeg8-dev libpango1.0-dev libgif-dev build-essential g++`
Fedora | `sudo yum install cairo cairo-devel cairomm-devel libjpeg-turbo-devel pango pango-devel pangomm pangomm-devel giflib-devel`
Solaris | `pkgin install cairo pkg-config xproto renderproto kbproto xextproto`
Windows | [Instructions on wiki](https://github.com/Automattic/node-canvas/wiki/Installation---Windows)

**El Capitan users:** If you have recently updated to El Capitan and are experiencing trouble when compiling, run the following command: `xcode-select --install`. Read more about the problem [on Stack Overflow](http://stackoverflow.com/a/32929012/148072).

After you sucessfully install `validation-image`, use it in your node app:

```javascript
// require library
var validationImage = require('validation-image');

// configure and create a validation image
var validationInfo = validationImage.config({
    width: 70,      // image's width
    height: 35,     // image's height
    lineNumber: 6,  // lines number that would be drawn into the image in case of prevent the program automatically discern the code on the image
    charNumber: 4   // the length of code
}).create();

// get the validation code
var code = validationInfo.code;

// get the base64 url of the validation image
var base64URL = validationInfo.base64URL;

// Do something...

```

## API

require `validation-image` will return a validation image instance.

#### ValidationImage#config(options)
Return: `Object` <br>
This method will return the validation image instance.

#### options
Type: `Object` <br>
The configuration of the validation image.

##### options.width
Type: `Number` <br>
Config the width of the validation image.

##### options.height
Type: `Number` <br>
Config the height of the validation image.

##### options.lineNumber
Type: `Number` <br>
Config the number of lines that would be drawn into the image in case of prevent the program automatically discern the code on the image.

##### options.charNumber
Type: `Number` <br>
Config the length of code.

#### ValidationImage#create()
Return: `Object` <br>
Create a validation image.<br>
This method will return the validation image instance.

#### ValidationImage#getCode()
Return: `String`<br>
Get the validation code.<br>
This method will return the validation code that generated by the method of `ValidationImage#create()`.

#### ValidationImage#getBase64URL()
Return: `String`<br>
Get the base64 url of the validation image.<br>
This mehod will return the base64 url of the validation image that generated by the method of `ValidationImage#create()`.




